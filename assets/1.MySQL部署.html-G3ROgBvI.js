import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,o as n,d as e}from"./app-Dqcz5T7h.js";const l={},t=e(`<p>本教程将指导你如何在 Linux 服务器(CentOS) 部署 MySQL 8。</p><h1 id="版本声明" tabindex="-1"><a class="header-anchor" href="#版本声明"><span>版本声明</span></a></h1><table><thead><tr><th>名称</th><th>版本</th></tr></thead><tbody><tr><td>系统</td><td>CentOS 8</td></tr><tr><td>MySQL</td><td>8.0.27</td></tr></tbody></table><h1 id="卸载mysql" tabindex="-1"><a class="header-anchor" href="#卸载mysql"><span>卸载MySQL</span></a></h1><p>如果已安装了MySQL需要先卸载</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://i-blog.csdnimg.cn/blog_migrate/dfca2c65cc2d3ae667379daa6905e291.png" alt="youlai-mall mysql" tabindex="0" loading="lazy"><figcaption>youlai-mall mysql</figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 逐一卸载已安装的包</span></span>
<span class="line">yum remove <span class="token parameter variable">-y</span> mysql-commutity-conmmon-8.0.27-1.e18.x86_64</span>
<span class="line"><span class="token comment"># 删除MySQL文件</span></span>
<span class="line"><span class="token function">find</span> / <span class="token parameter variable">-name</span> mysql <span class="token parameter variable">-type</span> f <span class="token parameter variable">-print</span> <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\\</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">..</span>.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="安装mysql8" tabindex="-1"><a class="header-anchor" href="#安装mysql8"><span>安装MySQL8</span></a></h1><p><strong>1. 安装yum源</strong></p><p>访问 <a href="https://dev.mysql.com/downloads/repo/yum" target="_blank" rel="noopener noreferrer">MySQL官方下载地址</a>，获取yum源地址</p><figure><img src="https://i-blog.csdnimg.cn/blog_migrate/20035e6793787f424bb645346a97f1d5.gif" alt="youlai-mall mysql" tabindex="0" loading="lazy"><figcaption>youlai-mall mysql</figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token comment"># 下载yum源，wget后面的地址就是上图获取的yum源地址</span></span>
<span class="line"><span class="token function">wget</span> https://repo.mysql.com//mysql80-community-release-el8-1.noarch.rpm</span>
<span class="line"><span class="token comment"># 安装yum源</span></span>
<span class="line">yum <span class="token parameter variable">-y</span> localinstall mysql80-community-release-el8-1.noarch.rpm</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. 禁用CentOS8自带的MySQL模块</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">yum module disable mysql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>3. 安装MySQL服务</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> mysql-community-server</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>4. 启动MySQL</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">systemctl start mysqld</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>5. 查看MySQL状态</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">systemctl status mysqld</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>6. 设置MySQL开机自启</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">systemctl <span class="token builtin class-name">enable</span> mysqld</span>
<span class="line">systemctl daemon-reload</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="设置密码" tabindex="-1"><a class="header-anchor" href="#设置密码"><span>设置密码</span></a></h1><p><strong>1. 获取临时密码</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line"><span class="token function">grep</span> <span class="token string">&#39;temporary password&#39;</span> /var/log/mysqld.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://i-blog.csdnimg.cn/blog_migrate/c0be91b78d88720730812754deaa04fe.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>2. 登录 MySQL</strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-pqvysykoyf4</span><span class="token operator">=</span>R</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>3. 修改 MySQL 新密码 123456</strong></p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;root&#39;</span> <span class="token variable">@&#39;localhost&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>4. 密码简单不满足密码策略</strong></p><p>如果密码不满足密码策略，可以提高密码复杂度或者降低密码策略设置。</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="line">ERROR <span class="token number">1819</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Your password does <span class="token operator">not</span> satisfy the <span class="token keyword">current</span> policy requirements</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查看当前密码策略</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="line"><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&#39;validate_password%&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>降低密码策略</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="line"><span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>length<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>special_char_count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">set</span> <span class="token keyword">global</span> validate_password<span class="token punctuation">.</span>policy <span class="token operator">=</span>LOW<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://i-blog.csdnimg.cn/blog_migrate/70b4843d907d9db48b3f3f9be9f4851d.png#pic_center" alt="在这里插入图片描述" tabindex="0" loading="lazy"><figcaption>在这里插入图片描述</figcaption></figure><h1 id="开放远程连接" tabindex="-1"><a class="header-anchor" href="#开放远程连接"><span>开放远程连接</span></a></h1><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="line"><span class="token keyword">use</span> mysql<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> <span class="token string">&#39;%&#39;</span> <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;%&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123456&#39;</span> password expire never<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">&#39;root&#39;</span><span class="token variable">@&#39;%&#39;</span> identified <span class="token keyword">with</span> mysql_native_password <span class="token keyword">by</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span></span>
<span class="line">flush <span class="token keyword">privileges</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，您的 MySQL 数据库已经安装、配置，并允许远程连接。<img src="https://i-blog.csdnimg.cn/blog_migrate/7f11b2fb8f2c423708090cb7a8a703fc.png" alt="youlai-mall mysql" loading="lazy"></p>`,42),p=[t];function i(c,r){return n(),a("div",null,p)}const u=s(l,[["render",i],["__file","1.MySQL部署.html.vue"]]),m=JSON.parse('{"path":"/%E5%89%8D%E5%90%8E%E7%AB%AF%E6%A8%A1%E6%9D%BF/9.%E4%B8%AD%E9%97%B4%E4%BB%B6%E9%83%A8%E7%BD%B2/1.MySQL%E9%83%A8%E7%BD%B2.html","title":"MySQL部署","lang":"zh-CN","frontmatter":{"title":"MySQL部署","icon":"leaf","order":1,"category":["快速上手","项目简介"],"tag":["项目介绍"]},"headers":[],"git":{"createdTime":1723998477000,"updatedTime":1724863355000,"contributors":[{"name":"ray","email":"1490493387@qq.com","commits":1}]},"readingTime":{"minutes":1.53,"words":458},"filePathRelative":"前后端模板/9.中间件部署/1.MySQL部署.md","localizedDate":"2024年8月18日"}');export{u as comp,m as data};
