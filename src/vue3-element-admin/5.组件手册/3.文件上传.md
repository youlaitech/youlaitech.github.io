---
title: 文件上传
order: 2
category:
  - 组件
tag:
  - 图片上传
  - 文件上传
---

::: info 介绍
本文介绍如何在 `vue3-element-admin` 项目中使用图片和文件上传组件。
:::



## 导入组件

默认情况下，上传组件已按需全局注册，无需手动导入。如果需要手动导入，可以使用以下方式：

```typescript
import ImageUpload from "@/components/Upload/ImageUpload.vue";
```

## 图片上传

### 单图上传示例

```vue
<template>
  <ImageUpload v-model="imageUrl" :maxSize="10" />
</template>

<script setup lang="ts">
const imageUrl = ref("https://s2.loli.net/2023/05/24/yNsxFC8rLHMZQcK.jpg");
</script>
```



### 多图上传示例


### 参数说明

| 名称                | 类型              | 默认值                                                   | 描述                                                 |
|-------------------|-----------------|-------------------------------------------------------|----------------------------------------------------|
| v-model           | [Arrays,String] | ''                                                    | 已经上传的图片(limit大于1时为数组，等于1时是字符串）                     |
| action            | String          | FileAPI.uploadUrl                                     | 文件上传地址                                             |
| headers           | Object          | **{Authorization: localStorage.getItem(TOKEN_KEY),}** | 文件上传请求头                                            |
| data              | Object          | {}                                                    | 请求携带的额外参数                                          |
| name              | String          | file                                                  | 上传文件的参数名                                           |
| limit             | Number          | 1                                                     | 上传最大的图片数量                                          |
| show-del-btn      | Boolean         | true                                                  | 是否显示删除按钮                                           |
| show-upload-btn   | Boolean         | true                                                  | 是否显示上传按钮                                           |
| upload-max-size   | Number          | 2*1024*1024                                           | 单个图片上传大小限制(单位 byte)                                |
| accept            | String          | image\\*                                              | 上传文件类型                                             |
| support-file-type | Array           | []                                                    | 支持的文件类型,默认支持所有图片格式,eg:['png','jpg','jpeg','gif']   |
| is-sync-delete    | Boolean         | true                                                  | 是否同步删除服务端文件(默认是，如果为否，则只会删除当前上传的图片，已经上传到服务端到图片不会删除) |
| style             | Object          | **{width: '130px',height: '130px'}**                  | 上传组件的样式                                            |


## 使用组件
```vue
const picUrls = ref([
  "https://s2.loli.net/2023/05/24/yNsxFC8rLHMZQcK.jpg",
  "https://s2.loli.net/2023/05/24/RuHFMwW4rG5lIqs.jpg",
  "https://s2.loli.net/2023/05/24/ZPiGbcpR91WqInB.jpg",
  "https://s2.loli.net/2023/05/24/e1bcnEq3MFdmlNL.jpg",
  "https://s2.loli.net/2023/05/24/wZTSPj1yDQNcuhU.jpg",
]);
<image-upload v-model="picUrls" />
```

## 导入上传文件组件

```vue
import FileUpload from "@/components/Upload/FileUpload.vue";
```

## 组件参数


## 使用组件
```vue
const fileUrls = ref([
  {
    name: "file one.jpg",
    url: "https://s2.loli.net/2023/05/24/yNsxFC8rLHMZQcK.jpg",
  },
  {
    name: "file two.jpg",
    url: "https://s2.loli.net/2023/05/24/RuHFMwW4rG5lIqs.jpg",
  },
]);
<file-upload v-model="fileUrls" />
```

